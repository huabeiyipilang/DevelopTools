<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta content="telephone=no" name="format-detection">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <link href="./index.css" rel="stylesheet">

</head>

<body>
    <div class="root" id="root">

        <div class="wrapper" id="wrapper">
            <button type="button" onclick="videoDetailCallback('close', 0, '')">关闭弹层</button>
            <br><br>
            <button type="button" onclick="videoDetailCallback('pay', 1, '支付成功')">支付成功</button>
            <br><br>
            <button type="button" onclick="videoDetailCallback('pay', 0, '支付失败')">支付失败</button>
            <br><br>
            <button type="button" onclick="videoDetailCallback('coupon', 1, '领券成功')">领券成功</button>
            <br><br>
            <button type="button" onclick="videoDetailCallback('coupon', 0, '领券失败')">领券失败</button>
            <br><br>
        </div>
    </div>
</body>
<script type="text/javascript">
    function videoDetailCallback(type, result, toast) {
        var dataObj = [
            {
                "action": "videoDetailWebViewCallback",
                "__msg_type": "call",
                "params": {
                    "type": type,
                    "result": result,
                    "toast": toast
                }
            }
        ]

        var data = {
            "scene": "SCENE_MESSAGEQUEUE",
            "data": JSON.stringify(dataObj)
        };

        console.log(JSON.stringify(data));
        window.WeiboJSBridgeDataTransfer.transferData(JSON.stringify(data));
    }

</script>

</html>
