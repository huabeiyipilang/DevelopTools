<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta content="telephone=no" name="format-detection">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <link href="./index.css" rel="stylesheet">

</head>

<body>
    <div class="root" id="root">
        <button type="button" onclick="onCloseClick()">Close</button>
        <div class="wrapper" id="wrapper">弹层</div>
    </div>
</body>
<script type="text/javascript">
    window.onload = function () {
        // const root = document.getElementById("root");
        // const wrapper = document.getElementById('wrapper');
        // root.onclick = function () {
        //     if (wrapper.style.display === "none") {
        //         wrapper.style.display = "block";
        //     } else {
        //         wrapper.style.display = "none";
        //     }
        // }
    }

    function onCloseClick() {

        var dataObj = [
            {
                "action": "closeVideoDetailWebView",
                "__msg_type": "call",
                "__callback_id": "123",
                "params": {
                    "type": "pay",
                    "result": 1,
                    "toast": "测试点击"
                }
            }
        ]

        var data = {
            "scene": "SCENE_MESSAGEQUEUE",
            "data": JSON.stringify(dataObj)
        };

        console.log(JSON.stringify(data));
        window.WeiboJSBridgeDataTransfer.transferData(JSON.stringify(data));
    }
</script>

</html>